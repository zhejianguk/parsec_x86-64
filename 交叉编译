äº¤å‰ç¼–è¯‘è¿‡ç¨‹è®°å½•

1ã€äº¤å‰ç¼–è¯‘é“¾çš„åˆ¶ä½œ
å‚è€ƒï¼šhttps://zhuanlan.zhihu.com/p/258394849

ï¼ˆ1ï¼‰riscv-gnu-toolchainä¸‹è½½
$  git clone https://gitee.com/mirrors/riscv-gnu-toolchain
 
$ cd riscv-gnu-toolchain
$git rm qemu
$git submodule update --init --recursive
ï¼ˆä¸çŸ¥é“ä¸ºä»€ä¹ˆè¿™ä¸€éƒ¨å¾ˆæ…¢ï¼Œå‡ºé”™ï¼‰

å‡ºé”™è®°å½•ï¼š
fatal: unable to access 'https://github.com/riscv-software-src/riscv-isa-sim.git/': GnuTLS recv error (-54): Error in the pull function.
fatal: clone of 'https://github.com/riscv-software-src/riscv-isa-sim.git' into submodule path '/home/jiang/riscv64-linux/riscv-gnu-toolchain/spike' failed
Failed to clone 'spike'. Retry scheduled
Cloning into '/home/jiang/riscv64-linux/riscv-gnu-toolchain/spike'...
fatal: unable to access 'https://github.com/riscv-software-src/riscv-isa-sim.git/': Failed to connect to github.com port 443 after 21017 ms: Connection refused
fatal: clone of 'https://github.com/riscv-software-src/riscv-isa-sim.git' into submodule path '/home/jiang/riscv64-linux/riscv-gnu-toolchain/spike' failed
Failed to clone 'spike' a second time, aborting

ç½‘é—®é¢˜ï¼Ÿ
å†è¯•äº†ä¸€æ¬¡ï¼Œç«Ÿç„¶å¯ä»¥äº†ğŸ™†â€


ï¼ˆ2ï¼‰ç¼–è¯‘Linuxäº¤å‰å·¥å…·é“¾
$ ./configure --prefix=/opt/riscv64 
$ sudo make linux -j $(nproc)
ğŸ‘†ä¸Šä¸€æ­¥é…ç½®å®‰è£…éœ€è¦å¾ˆä¹…

$ export PATH="$PATH:/opt/riscv64/bin"

(3)æµ‹è¯•æ˜¯å¦æˆåŠŸ
$ riscv64-unknown-linux-gnu-gcc -v

âˆš å·¥å…·é“¾å®‰è£…å®Œæˆ
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

2ã€parsec ç¼–è¯‘é€‰é¡¹æ›´æ”¹
æ‰¾åˆ°gcc.bldconf æ›´æ”¹æ”¯æŒrisc-vå…·ä½“è§mainä¸­

ï¼ˆæˆªè‡³æœ¬å‘¨ï¼Œè‡³å°‘æŠŠåŠ¨æ€ç¼–è¯‘çš„å­¦ä¼šå¼„å®Œäº†ï¼Œä¸‹é¢å°±æ˜¯åœ¨ç³»ç»Ÿä¸Šè·‘çœ‹ç»“æœäº†ğŸ‘©â€ğŸ’»ï¼‰
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
3ã€å°†parsec benchmarkæ”¾åˆ°rcoreä¸­è·‘
ï¼ˆ1ï¼‰qemuå®‰è£…   âˆš
ï¼ˆ2ï¼‰è¿™é‡Œè®°å½•ä¸‹parsecç¼–è¯‘è¿‡ç¨‹
./configure
./env.sh
cd pkgs && ./build_parsec.sh
./run_parsec.sh
(3)å°†ç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶æ–‡ä»¶æ”¾è¿›rcoreä¸­ï¼ŒåŠ¨æ€é“¾æ¥å®Œæˆ
make run æ—¶å€™æŠ¥é”™
[kernel] Excepitonï¼ˆLoadPageFaultï¼‰ in application

4ã€rcoreå®‰è£…thetisä¼˜åŒ–

5ã€å°†parsec benchmarkæ”¾åˆ°ä¼˜åŒ–årcore

