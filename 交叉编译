交叉编译过程记录

1、交叉编译链的制作
参考：https://zhuanlan.zhihu.com/p/258394849

（1）riscv-gnu-toolchain下载
$  git clone https://gitee.com/mirrors/riscv-gnu-toolchain
 
$ cd riscv-gnu-toolchain
$git rm qemu
$git submodule update --init --recursive
（不知道为什么这一部很慢，出错）

出错记录：
fatal: unable to access 'https://github.com/riscv-software-src/riscv-isa-sim.git/': GnuTLS recv error (-54): Error in the pull function.
fatal: clone of 'https://github.com/riscv-software-src/riscv-isa-sim.git' into submodule path '/home/jiang/riscv64-linux/riscv-gnu-toolchain/spike' failed
Failed to clone 'spike'. Retry scheduled
Cloning into '/home/jiang/riscv64-linux/riscv-gnu-toolchain/spike'...
fatal: unable to access 'https://github.com/riscv-software-src/riscv-isa-sim.git/': Failed to connect to github.com port 443 after 21017 ms: Connection refused
fatal: clone of 'https://github.com/riscv-software-src/riscv-isa-sim.git' into submodule path '/home/jiang/riscv64-linux/riscv-gnu-toolchain/spike' failed
Failed to clone 'spike' a second time, aborting

网问题？
再试了一次，竟然可以了🙆‍


（2）编译Linux交叉工具链
$ ./configure --prefix=/opt/riscv64 
$ sudo make linux -j $(nproc)
👆上一步配置安装需要很久

$ export PATH="$PATH:/opt/riscv64/bin"

(3)测试是否成功
$ riscv64-unknown-linux-gnu-gcc -v

√ 工具链安装完成
————————————————————————————————————————————————————————————————————————————————————————————————————————————————

2、parsec 编译选项更改
找到gcc.bldconf 更改支持risc-v具体见main中

（截至本周，至少把动态编译的学会弄完了，下面就是在系统上跑看结果了👩‍💻）
————————————————————————————————————————————————————————————————————————————————————————————————————————————————
3、将parsec benchmark放到rcore中跑
（1）qemu安装   √
（2）这里记录下parsec编译过程
./configure
./env.sh
cd pkgs && ./build_parsec.sh
./run_parsec.sh
(3)将编译好的二进制文件放进rcore中，动态链接完成
make run 时候报错
[kernel] Excepiton（LoadPageFault） in application

4、rcore安装thetis优化

5、将parsec benchmark放到优化后rcore

