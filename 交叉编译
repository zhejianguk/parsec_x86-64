äº¤å‰ç¼–è¯‘è¿‡ç¨‹è®°å½•

1ã€äº¤å‰ç¼–è¯‘é“¾çš„åˆ¶ä½œ
å‚è€ƒï¼šhttps://zhuanlan.zhihu.com/p/258394849

ï¼ˆ1ï¼‰riscv-gnu-toolchainä¸‹è½½
$  git clone https://gitee.com/mirrors/riscv-gnu-toolchain
 
$ cd riscv-gnu-toolchain
$git rm qemu
$git submodule update --init --recursive
ï¼ˆä¸çŸ¥é“ä¸ºä»€ä¹ˆè¿™ä¸€éƒ¨å¾ˆæ…¢ï¼Œå‡ºé”™ï¼‰

å‡ºé”™è®°å½•ï¼š
fatal: unable to access 'https://github.com/riscv-software-src/riscv-isa-sim.git/': GnuTLS recv error (-54): Error in the pull function.
fatal: clone of 'https://github.com/riscv-software-src/riscv-isa-sim.git' into submodule path '/home/jiang/riscv64-linux/riscv-gnu-toolchain/spike' failed
Failed to clone 'spike'. Retry scheduled
Cloning into '/home/jiang/riscv64-linux/riscv-gnu-toolchain/spike'...
fatal: unable to access 'https://github.com/riscv-software-src/riscv-isa-sim.git/': Failed to connect to github.com port 443 after 21017 ms: Connection refused
fatal: clone of 'https://github.com/riscv-software-src/riscv-isa-sim.git' into submodule path '/home/jiang/riscv64-linux/riscv-gnu-toolchain/spike' failed
Failed to clone 'spike' a second time, aborting

ç½‘é—®é¢˜ï¼Ÿ
å†è¯•äº†ä¸€æ¬¡ï¼Œç«Ÿç„¶å¯ä»¥äº†ğŸ™†â€


ï¼ˆ2ï¼‰ç¼–è¯‘Linuxäº¤å‰å·¥å…·é“¾
$ ./configure --prefix=/opt/riscv64 
$ sudo make linux -j $(nproc)
ğŸ‘†ä¸Šä¸€æ­¥é…ç½®å®‰è£…éœ€è¦å¾ˆä¹…

$ export PATH="$PATH:/opt/riscv64/bin"

(3)æµ‹è¯•æ˜¯å¦æˆåŠŸ
$ riscv64-unknown-linux-gnu-gcc -v

âˆš å·¥å…·é“¾å®‰è£…å®Œæˆ
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

2ã€parsec ç¼–è¯‘é€‰é¡¹æ›´æ”¹
ï¼ˆ1ï¼‰run_parsec.shæ–‡ä»¶ arch

ï¼ˆ2ï¼‰æŸ¥çœ‹configureæ–‡ä»¶ï¼Œæ²¡å‘ç°
ï¼ˆ3ï¼‰æŸ¥çœ‹build_parsec.shæ–‡ä»¶ï¼Œé‡Œé¢æœ‰parsecmgmtå‘½ä»¤ï¼Œä½¿ç”¨å‘½ä»¤ find . -name "parsecmgmt"
æ‰¾åˆ°ï¼š ./bin/parsecmgmt
ï¼ˆ4ï¼‰cd bin  æŸ¥çœ‹æ–‡ä»¶
ï¼ˆ5ï¼‰å°†parsecmgmtæ–‡ä»¶çš„default_build = "home/jiang/usr/riscv64-unknown-linux-gun-gcc"

å†æ¬¡ç¼–è¯‘é‡åˆ°é—®é¢˜

ï¼ˆ6ï¼‰æ‰¾åˆ°gcc.bldconf 
æ”¹äº†export HOSTCC, æŠŠcompilers and preprocessorsä¸‹é¢æ”¹äº†

